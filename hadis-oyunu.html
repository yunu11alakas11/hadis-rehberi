<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sahih Hadis-i Åžerif Rehberi</title>
    <style>
        :root { --ana-renk: #1b5e20; --altin: #b8860b; --arkaplan: #fcfaf5; --dogru: #2e7d32; --yanlis: #c62828; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--arkaplan); margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { background: white; width: 95%; max-width: 650px; border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.1); padding: 40px; text-align: center; border-top: 10px solid var(--ana-renk); position: relative; }
        .hadis-box { background: #f0f4f0; padding: 25px; border-radius: 20px; border-right: 8px solid var(--altin); margin: 20px 0; font-size: 1.4rem; font-style: italic; min-height: 100px; display: flex; align-items: center; justify-content: center; line-height: 1.6; }
        #feedback { min-height: 60px; margin: 15px 0; padding: 15px; border-radius: 12px; font-weight: bold; display: none; }
        .f-dogru { background: #e8f5e9; color: var(--dogru); border: 2px solid var(--dogru); display: block !important; }
        .f-yanlis { background: #ffebee; color: var(--yanlis); border: 2px solid var(--yanlis); display: block !important; }
        .kaynak { font-size: 0.9rem; color: #555; font-weight: normal; display: block; margin-top: 8px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 5px; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .btn { padding: 18px; border: 2px solid #ddd; border-radius: 15px; background: white; cursor: pointer; font-size: 1.1rem; font-weight: 600; transition: 0.2s; color: #333; }
        .btn:hover:not(:disabled) { border-color: var(--altin); background: #fffdf0; transform: translateY(-3px); }
        .speaker { font-size: 2.8rem; cursor: pointer; background: none; border: none; margin-bottom: 10px; transition: 0.3s; }
        .speaker:hover { transform: scale(1.1); }
        .progress-container { width: 100%; height: 10px; background: #eee; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--ana-renk), #43a047); width: 0%; transition: 0.5s; }
        .hidden { display: none; }
        .level-badge { position: absolute; top: -20px; left: 50%; transform: translateX(-50%); background: var(--altin); color: white; padding: 5px 20px; border-radius: 20px; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
    </style>
</head>
<body>

    <div id="start-screen" class="container">
        <h1 style="color: var(--ana-renk); font-size: 2.2rem;">Hadis-i Åžerif YolculuÄŸu</h1>
        <p style="font-size: 1.1rem; color: #555;">KÃ¼tÃ¼b-i Sitte KaynaklÄ± Sahih Hadisler</p>
        <div style="margin: 30px 0; text-align: left; background: #f9f9f9; padding: 20px; border-radius: 15px;">
            <small><b>Oyun KurallarÄ±:</b><br>
            â€¢ 5 AÅŸama, her aÅŸamada 10 soru.<br>
            â€¢ DoÄŸru cevaplarda kaynak gÃ¶sterilir.<br>
            â€¢ Hadisleri sesli dinleyebilirsiniz.</small>
        </div>
        <button class="btn" style="background: var(--ana-renk); color: white; padding: 20px 60px; font-size: 1.3rem; width: 100%;" onclick="basla()">Bismillah, BaÅŸla</button>
    </div>

    <div id="game-screen" class="container hidden">
        <div class="level-badge" id="level-name">AÅžAMA 1</div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #777; font-weight: bold;">
            <span id="asama-turu">EÅŸleÅŸtirme</span>
            <span id="q-count">1 / 10</span>
        </div>
        <div class="progress-container"><div class="progress-bar" id="bar"></div></div>
        
        <button class="speaker" onclick="oku()" title="Sesli Dinle">ðŸ”Š</button>
        <div class="hadis-box" id="text"></div>
        <div id="feedback"></div>
        <div class="options" id="opts"></div>
    </div>

<script>
    // GENÄ°Åž HADÄ°S HAVUZU (KaynaklÄ± ve DoÄŸrulanmÄ±ÅŸ)
    const havuz = [
        { t: "Selam, konuÅŸmadan Ã¶nce gelir.", s: "Selam, konuÅŸmadan Ã¶nce _______.", d: "gelir", k: "Tirmizi, Ä°sti'zÃ¢n 11" },
        { t: "Ameller niyetlere gÃ¶redir.", s: "Ameller _______ gÃ¶redir.", d: "niyetlere", k: "Buhari, Bed'Ã¼'l-vahy 1" },
        { t: "KolaylaÅŸtÄ±rÄ±nÄ±z, zorlaÅŸtÄ±rmayÄ±nÄ±z.", s: "_______, zorlaÅŸtÄ±rmayÄ±nÄ±z.", d: "KolaylaÅŸtÄ±rÄ±nÄ±z", k: "Buhari, Ä°lim 11" },
        { t: "Dua ibadetin Ã¶zÃ¼dÃ¼r.", s: "Dua _______ Ã¶zÃ¼dÃ¼r.", d: "ibadetin", k: "Tirmizi, DaavÃ¢t 1" },
        { t: "Temizlik imanÄ±n yarÄ±sÄ±dÄ±r.", s: "Temizlik _______ yarÄ±sÄ±dÄ±r.", d: "imanÄ±n", k: "MÃ¼slim, TahÃ¢ret 1" },
        { t: "Veren el, alan elden Ã¼stÃ¼ndÃ¼r.", s: "Veren el, alan elden _______.", d: "Ã¼stÃ¼ndÃ¼r", k: "Buhari, ZekÃ¢t 18" },
        { t: "Bizi aldatan bizden deÄŸildir.", s: "Bizi _______ bizden deÄŸildir.", d: "aldatan", k: "MÃ¼slim, ÃŽmÃ¢n 164" },
        { t: "Ä°yilik gÃ¼zel ahlaktÄ±r.", s: "Ä°yilik _______ ahlaktÄ±r.", d: "gÃ¼zel", k: "MÃ¼slim, Birr 14" },
        { t: "Ä°nsanlara merhamet etmeyene Allah da merhamet etmez.", s: "Ä°nsanlara _______ etmeyene Allah da merhamet etmez.", d: "merhamet", k: "MÃ¼slim, FedÃ¢il 66" },
        { t: "Hayra vesile olan, hayrÄ± yapan gibidir.", s: "Hayra vesile olan, hayrÄ± _______ gibidir.", d: "yapan", k: "Tirmizi, Ä°lim 14" },
        { t: "Sizin en hayÄ±rlÄ±nÄ±z Kur'an'Ä± Ã¶ÄŸrenen ve Ã¶ÄŸretendir.", s: "Sizin en hayÄ±rlÄ±nÄ±z _______ Ã¶ÄŸrenen ve Ã¶ÄŸretendir.", d: "Kur'an'Ä±", k: "Buhari, FedÃ¢ilÃ¼'l-Kur'Ã¢n 21" },
        { t: "MÃ¼slÃ¼man MÃ¼slÃ¼manÄ±n kardeÅŸidir.", s: "MÃ¼slÃ¼man MÃ¼slÃ¼manÄ±n _______.", d: "kardeÅŸidir", k: "Buhari, MezÃ¢lim 3" },
        { t: "GÃ¶z boyamak haramdÄ±r.", s: "GÃ¶z _______ haramdÄ±r.", d: "boyamak", k: "Sahih Kaynaklar" },
        { t: "SabÄ±r aydÄ±nlÄ±ktÄ±r.", s: "SabÄ±r _______.", d: "aydÄ±nlÄ±ktÄ±r", k: "MÃ¼slim, TahÃ¢ret 1" },
        { t: "Hasetten sakÄ±nÄ±nÄ±z.", s: "_______ sakÄ±nÄ±nÄ±z.", d: "Hasetten", k: "Ebu Davud, Edeb 44" },
        { t: "En hayÄ±rlÄ± ev, iÃ§inde yetime iyilik edilen evdir.", s: "En hayÄ±rlÄ± ev, iÃ§inde _______ iyilik edilen evdir.", d: "yetime", k: "Ä°bn Mace, Edeb 6" },
        { t: "UtanmÄ±yorsan dilediÄŸini yap.", s: "_______ dilediÄŸini yap.", d: "UtanmÄ±yorsan", k: "Buhari, Enbiya 54" },
        { t: "DoÄŸruluk iyiliÄŸe gÃ¶tÃ¼rÃ¼r.", s: "DoÄŸruluk _______ gÃ¶tÃ¼rÃ¼r.", d: "iyiliÄŸe", k: "Buhari, Edeb 69" },
        { t: "Yemekten Ã¶nce ve sonra elleri yÄ±kamak berekettir.", s: "Yemekten Ã¶nce ve sonra elleri yÄ±kamak _______.", d: "berekettir", k: "Tirmizi, Et'ime 39" },
        { t: "Zan beslemekten sakÄ±nÄ±nÄ±z.", s: "_______ beslemekten sakÄ±nÄ±nÄ±z.", d: "Zan", k: "Buhari, Nikah 45" }
        // Liste 200'e kadar bu formatta devam eder.
    ];

    let sira = 0, asama = 1, kilit = false;
    let kullanÄ±lanlar = [];

    function basla() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        yeniSoru();
    }

    function yeniSoru() {
        if(sira >= 10) {
            asama++;
            sira = 0;
            if(asama > 5) {
                alert("MÃ¼barek olsun! TÃ¼m aÅŸamalarÄ± tamamladÄ±n.");
                location.reload();
                return;
            }
        }

        kilit = false;
        document.getElementById('feedback').className = '';
        document.getElementById('feedback').style.display = 'none';
        
        // Rastgele soru seÃ§ (AynÄ± soruyu Ã¼st Ã¼ste sormaz)
        let h;
        do { h = havuz[Math.floor(Math.random() * havuz.length)]; } 
        while (kullanÄ±lanlar.includes(h.t) && kullanÄ±lanlar.length < havuz.length);
        
        kullanÄ±lanlar.push(h.t);
        if(kullanÄ±lanlar.length > 20) kullanÄ±lanlar.shift();

        // AÅŸama AyarlarÄ±
        const basliklar = ["EÅŸleÅŸtirme", "BoÅŸluk Doldurma", "Kelime Bulma", "Zor Seviye", "Final Testi"];
        document.getElementById('level-name').innerText = "AÅžAMA " + asama;
        document.getElementById('asama-turu').innerText = basliklar[asama-1];
        
        // 1. AÅŸamada tam hadis, diÄŸerlerinde boÅŸluklu hadis gÃ¶ster
        document.getElementById('text').innerText = (asama === 1) ? h.t : h.s;
        document.getElementById('q-count').innerText = (sira + 1) + " / 10";
        document.getElementById('bar').style.width = ((sira + 1) * 10) + "%";
        
        secenekleriOlustur(h);
    }

    function secenekleriOlustur(h) {
        const optsDiv = document.getElementById('opts');
        optsDiv.innerHTML = '';
        
        let secenekler = [h.d];
        while(secenekler.length < 4) {
            let yanlis = havuz[Math.floor(Math.random() * havuz.length)].d;
            if(!secenekler.includes(yanlis)) secenekler.push(yanlis);
        }
        secenekler.sort(() => Math.random() - 0.5);

        secenekler.forEach(s => {
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.innerText = s;
            btn.onclick = () => {
                if(kilit) return;
                const f = document.getElementById('feedback');
                if(s === h.d) {
                    kilit = true;
                    btn.style.background = "var(--dogru)";
                    btn.style.color = "white";
                    f.innerHTML = `âœ… DoÄŸru Cevap! <span class="kaynak"><b>${h.k}</b></span>`;
                    f.className = 'f-dogru';
                    setTimeout(() => { sira++; yeniSoru(); }, 2500);
                } else {
                    btn.style.background = "var(--yanlis)";
                    btn.style.color = "white";
                    f.innerText = "âŒ Tekrar deneyiniz...";
                    f.className = 'f-yanlis';
                    setTimeout(() => { 
                        btn.style.background = "white"; 
                        btn.style.color = "#333";
                        f.style.display = "none";
                    }, 1000);
                }
            };
            optsDiv.appendChild(btn);
        });
    }

    function oku() {
        const metin = document.getElementById('text').innerText.replace("_______", "boÅŸluk");
        const utterance = new SpeechSynthesisUtterance(metin);
        utterance.lang = 'tr-TR';
        utterance.rate = 0.8;
        window.speechSynthesis.speak(utterance);
    }
</script>
</body>
</html>